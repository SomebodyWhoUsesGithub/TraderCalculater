<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Trade Calculator</title>
  </head>
  <body>
    <div class="titleMain">
      <h1>Trade Calculator</h1>
    </div>
    <div class="bodyMain">
      <form id="calcForm">
        <div class="inputsMain">
          <h4>Risk</h4>
          <h5><input type="number" id="riskPercentage" name="riskPercentage" min="0.1" max="5" step=".1" value="0.5">%</h5>
          <h4>Success Rate</h4>
          <h5><input type="number" id="successPercentage" name="successPercentage" min="50" max="99" value="51">%</h5>
          <h4>Advanced Risk Management?</h4>
          <input type="checkbox" id="riskManagement" name="riskManagement">
          <h4>Starting Balance</h4>
          <h5>$<input type="number" id="initialBalance" name="initialBalance" min="50" value="1000"></h5>
          <h4>Average amount of trades</h4>
          <h5><input type="number" id="tradesPerWeek" name="tradesPerWeek" min="1" max="320" value="4"> per week</h5>
          <h5>1:<input type="number" id="averageRR" name="averageRR" min="2" max="320" value="3"></h5>
          <input type="submit" value="Calculate"></input>
          </div>
        </form>
    </div>
  </body>
  <script>
    var form = document.getElementById('calcForm')

    form.addEventListener('submit', function(event){
      event.preventDefault()
      var riskPercentage = document.getElementById('riskPercentage').value
      var successPercentage = document.getElementById('successPercentage').value
      var riskManagement = document.getElementById('riskManagement').checked
      var initialBalance = document.getElementById('initialBalance').value
      var tradesPerWeek = document.getElementById('tradesPerWeek').value
      var averageRR = document.getElementById('averageRR').value

      var reward = 100 + riskPercentage * averageRR
      var rewardFactor = reward / 100
      var losses = 100 - successPercentage 
      var balance = initialBalance
      //loop through all trades, even numbers are wins
      for(let i = 0 i < 100 i++) {
        if (i % 2 == 0){
          balance = balance * rewardFactor
        }
      }
      //if uneven index a loss untill there are no more
      //not random but ensures all losses are relatively early creating a slow curve
      console.log(balance)
      console.log(riskPercentage)
      console.log(successPercentage)
      console.log(riskManagement)
      console.log(initialBalance)
      console.log(tradesPerWeek)
    })
  </script>
</html>
